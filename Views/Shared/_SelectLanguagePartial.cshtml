@using Microsoft.AspNetCore.Builder
@using Microsoft.AspNetCore.Localization
@using Microsoft.AspNetCore.Mvc.Localization
@using Microsoft.Extensions.Options

@inject IViewLocalizer Localizer
@inject IOptions<RequestLocalizationOptions> LocaleOptions

@{
    var requestCulture = Context.Features.Get<IRequestCultureFeature>();
    var currentCulture = string.Empty;
    if (requestCulture != null) currentCulture = requestCulture.RequestCulture.UICulture.Name;
    else currentCulture = LocaleOptions.Value.DefaultRequestCulture.UICulture.Name;

    var cultureItems = LocaleOptions.Value.SupportedUICultures?
        .Select(c => new SelectListItem { Value = c.Name, Text = c.DisplayName.IndexOf('(') != -1 ? c.DisplayName.Substring(0, c.DisplayName.IndexOf('(')) : c.DisplayName })
        .ToList();
}
<div class="nav-item me-4">
    <form id="localeForm" asp-controller="Home" asp-action="SetLanguage"
          asp-route-returnUrl="@Context.Request.Path" method="post">
        <ejs-dropdownlist value="@currentCulture" id="icons" change="changeLocale" name="culture" dataSource="cultureItems" placeholder="Select a social media">
            <e-dropdownlist-fields text="Text" value="Value"></e-dropdownlist-fields>
        </ejs-dropdownlist>
    </form>
</div>